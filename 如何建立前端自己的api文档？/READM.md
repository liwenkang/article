## 如何建立前端自己的 Api 文档？

在 NestJS入门 的第一篇文章中，我描述了我使用 NestJS 的两个目的，一个是熟悉后端服务，另一个就是解决文档自动生成的问题。

截至今天（2019年7月9日），我已经把公司之前的三个接口，从 Express 迁移到了 NestJS 中，基本没付出什么成本，再看一下 Swagger 自动生成的文档，我只能感叹，就是它了！可以参考炫酷的 [swagger在线编辑器](https://editor.swagger.io/) 

在和后端同学沟通过后，现在存在的问题有以下几点：

1. 为了实现自动生成文档，代码中要加很多注解，某种程度上要把之前的 word 文档复制一份到代码里，由于现在这个项目已经进入尾声，这样做太不划算。（这点我表示非常同意，所以我表示可不可以在新接口上加上注解，于是有了问题2）
2. 对于为了生成文档所添加的注解，不知道有什么合适的工具可以在代码打包后去除（我读书少，你别骗我），可能造成性能损耗和代码冗余。（这方面确实要考虑一下，问题是 java 打包的时候，难道就没有合适的 laoder 对代码做处理吗？于是有了问题3）
3. 在后端的同学搞了一会儿后，告诉我太麻烦了，还是用之前的吧（我？？？）

这时候，杠已经无法解决我的问题了。为了对得起周六那位前端腻子粉大佬对前端世界的贡献，我觉得我需要一份基于后端接口的前端 Api 文档。所以我准备搞一个与前后台均分离的 node 中间件，来帮我根据后端接口生成 Api 文档并完成基础的测试。

基础的功能如下：

1. 可以查看各个接口的名称、请求方式、请求地址、params参数以及格式（使用 typescript 声明描述）、body 中 data 参数以及格式（使用 typescript 声明描述）、特殊的请求头（比如需要加 auth 头）
2. 自动根据 typescript 声明文件生成 mock 数据，手动测试接口

进阶版本功能：

1. 记录测试日志
2. 自动测试接口
3. 根据接口快速生成前端代码（优先适配 typescript 版本的 react）
4. 导出指定格式的文档（例如：markdown，word，pdf等）

妈耶，这点东西够我干半年了。

最后，love and peace！